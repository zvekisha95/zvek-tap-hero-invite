<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Zvek Tap Hero — Invite</title>
</head>
<body style="background:#111; color:white; font-family:sans-serif; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh;">

  <h2>Zvek Tap Hero Access</h2>
  <p>Enter your Gmail:</p>

  <input id="email" type="email" placeholder="yourname@gmail.com" style="padding:10px; font-size:16px;">
  <button onclick="sendInvite()" style="padding:10px 20px; font-size:18px; margin-top:10px;">Send Invite</button>

  <div id="msg" style="margin-top:15px;"></div>

<script>
async function sendInvite() {
  const email = document.getElementById("email").value.trim();
  const msg = document.getElementById("msg");

  msg.textContent = "";

  if (!email.endsWith("@gmail.com")) {
    msg.textContent = "Gmail only!";
    return;
  }

  msg.textContent = "⏳ Sending...";

  try {
    const res = await fetch("/api/send-invite", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email })
    });

    const data = await res.json();
    if (data.ok) msg.textContent = "✅ Invite sent!";
    else msg.textContent = "❌ Error: " + data.error;
  } catch (e) {
    msg.textContent = "❌ Network error.";
  }
}
</script>

</body>
</html>
